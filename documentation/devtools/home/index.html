<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="The OpenFn Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="The OpenFn Blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="The OpenFn Blog JSON Feed">
<link rel="search" type="application/opensearchdescription+xml" title="OpenFn/docs" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/articles/rss.xml" title="OpenFn Help Articles RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/articles/atom.xml" title="OpenFn Help Articles Atom Feed">
<link rel="alternate" type="application/json" href="/articles/feed.json" title="OpenFn Help Articles JSON Feed">
<script data-jsd-embedded data-key="8583229a-a951-405e-b269-25a100d04641" data-base-url="https://jsd-widget.atlassian.com" src="https://jsd-widget.atlassian.com/assets/embed.js" async></script><title data-react-helmet="true">Devtools | OpenFn/docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.openfn.org/documentation/devtools/home"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Devtools | OpenFn/docs"><meta data-react-helmet="true" name="description" content="A set of tools for writing &amp;amp; testing expressions, managing OpenFn projects,"><meta data-react-helmet="true" property="og:description" content="A set of tools for writing &amp;amp; testing expressions, managing OpenFn projects,"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.openfn.org/documentation/devtools/home"><link data-react-helmet="true" rel="alternate" href="https://docs.openfn.org/documentation/devtools/home" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.openfn.org/fr/documentation/devtools/home" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://docs.openfn.org/documentation/devtools/home" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4494c62d.css">
<link rel="preload" href="/assets/js/runtime~main.b5b89c5b.js" as="script">
<link rel="preload" href="/assets/js/main.c699b8bd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OpenFn" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.svg" alt="OpenFn" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">OpenFn</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/documentation/">Docs</a><a class="navbar__item navbar__link" href="/library">Library</a><a class="navbar__item navbar__link" href="/articles">Articles</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_3vod"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/documentation/devtools/home" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/fr/documentation/devtools/home" target="_self" rel="noopener noreferrer" class="dropdown__link">FranÃ§ais</a></li></ul></div><a href="https://github.com/openfn/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/documentation/getting-started/so-you-want-to-integrate">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/documentation/design/design-quickstart">Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/documentation/build/jobs">Build</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/documentation/build/jobs">Jobs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/build/triggers">Triggers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/build/credentials">Credentials</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/documentation/build/inbox">Live Data</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/devtools/home">Devtools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/build/adaptors">Adaptors</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/documentation/deploy/options">Deploy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/documentation/manage/platform-mgmt">Manage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/documentation/apps/anything">Apps</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/faqs">FAQs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/documentation/roadmap">Contributing</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/about">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://community.openfn.org" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Community Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Devtools</h1></header><p>A set of tools for writing <!-- -->&amp;<!-- --> testing expressions, managing OpenFn projects,
and developing new adaptors.</p><div style="width:640px;height:360px"></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="up-and-running">Up and running<a class="hash-link" href="#up-and-running" title="Direct link to heading">â€‹</a></h2><ol><li>Make sure you&#x27;ve got <a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">git</a> (maybe GitBash for
Windows?)</li><li>And <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">Node.js</a> (version 12 or greater)</li><li>Run <code>git clone git@github.com:OpenFn/devtools.git</code> for SSH or
<code>git clone https://github.com/OpenFn/devtools.git</code></li><li>Run <code>cd devtools</code></li><li>Run <code>./install.sh ssh</code> or <code>./install.sh https</code> to install core,
language-common, and language-http</li></ol><p><em>Note: If you get a &quot;permission denied&quot; message when running <code>./install.sh</code>, try
<code>run chmod +x ./install.sh </code> then retry the install command.</em></p><p>To install specific adaptors, run
<code>./install.sh ${ssh || https} language-${name}</code></p><p>When you install a new adaptor, the latest version will be enabled by default.
To switch the adaptor version when running jobs locally, in the root of the
adaptor directory, run:</p><p><code>git checkout tags/v2.4.15</code> (substitute <code>2.4.15</code> with the adaptor version you
want)</p><p>You can run core from anywhere by using <code>npm install -g @openfn/core</code> for a
global install.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="usage">Usage<a class="hash-link" href="#usage" title="Direct link to heading">â€‹</a></h2><p>Execute takes:</p><ol><li><code>-l [language-package].Adaptor</code>: The adaptor being used</li><li><code>-e [expression.js]:</code> The expression being tested</li><li><code>-s [state.json]</code>: The message <code>data: {...}</code> and credential
<code>configuration: {...}</code></li><li><code>-o [output.json]</code>: The file to which the output will be written</li></ol><h3 class="anchor anchorWithStickyNavbar_31ik" id="bash-usage">Bash usage<a class="hash-link" href="#bash-usage" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">~/devtools/core/bin/core execute \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -l ~/devtools/adaptors/language-http \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -s ./tmp/state.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -o ./tmp/output.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e ./tmp/expression.js</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="the---test-option">The <code>--test</code> option<a class="hash-link" href="#the---test-option" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">~/devtools/core/bin/core execute \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -l ~/devtools/adaptors/language-http \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -s ./tmp/state.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -o ./tmp/output.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e ./tmp/expression.js \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --test</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This intercepts all HTTP requests and displays the request information for
debugging.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="fakeadaptor"><code>.FakeAdaptor</code><a class="hash-link" href="#fakeadaptor" title="Direct link to heading">â€‹</a></h4><p>Adaptors may provide dummy modules for testing. <code>language-salesforce</code> has a
built-in <code>.FakeAdaptor</code> which allows a user to test expressions on data without
sending them to a real Salesforce server.</p><p>Instead of using <code>-l ./language-salesforce.Adaptor</code>, use
<code>-l./language-salesforce.FakeAdaptor</code> to test expressions offline:
<code>./core/bin/core execute -l ./language-salesforce.FakeAdaptor -s ./tmp/state.json -o ./tmp/output.json -e ./tmp/expression.js</code></p><h4 class="anchor anchorWithStickyNavbar_31ik" id="offline-testing-for-other-adaptors">Offline testing for other adaptors<a class="hash-link" href="#offline-testing-for-other-adaptors" title="Direct link to heading">â€‹</a></h4><p>For most standard adaptors which make use of HTTP requests, you can add <code>--test</code>
to the execute command to intercept all HTTP requests and return a <code>200</code>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="configure-an-openfn-project">Configure an OpenFn project<a class="hash-link" href="#configure-an-openfn-project" title="Direct link to heading">â€‹</a></h2><p>You can use YAML project configuration files to define projects both on the
<a href="/documentation/deploy/platform">OpenFn platform</a> and in
<a href="https://openfn.github.io/microservice/readme.html#content" target="_blank" rel="noopener noreferrer">OpenFn microservice</a>.
Running <code>./scripts/generate-project.js</code> helps you build a project config YAML
interactively, adding your triggers, credentials and jobs to the config. You can
read more about the config file
<a href="https://openfn.github.io/microservice/readme.html#sample-configuration" target="_blank" rel="noopener noreferrer">here</a></p><p>If you choose <code>monolith</code> mode, all your job code will be included in the YAML.
In <code>URI</code> mode, youâ€™ll get a config file with URI-s to your defined jobs.</p><p><img alt="Generate Project" src="/assets/images/generate-project-40444c4a75e8e0b63a1cbe1e02d7f49d.gif"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="pre-requisites">Pre-Requisites<a class="hash-link" href="#pre-requisites" title="Direct link to heading">â€‹</a></h2><ol><li><p><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">Node</a> is required to run jobs and use many
of the scripts in Devtools.</p></li><li><p><a href="http://www.gnu.org/software/make/" target="_blank" rel="noopener noreferrer">Make</a> is used so that our modern (es9)
JavaScript can be run on older Node runtimes. To install it and other build
tools, you might run <code>sudo apt-get install build-essential</code>.</p></li><li><p>A basic working knowledge of NodeJs, promises and asynchronous functions is
essential for writing adaptors.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_31ik" id="scripts">Scripts<a class="hash-link" href="#scripts" title="Direct link to heading">â€‹</a></h2><p>Devtools comes with a collection of scripts to aid in setting up a development
environment for adaptor work, and include commands to quickly clone a large
number of adaptors, create tarballs of adaptors with only production
dependencies included, etc.</p><p>For the kitchen sink, run:</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./install ssh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">./scripts/bootstrap npm-install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In order to run the scripts, ensure you have cd&#x27;d into the project directory and
enter <code>./scripts/&lt;script-name&gt;</code></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="bootstrap">bootstrap<a class="hash-link" href="#bootstrap" title="Direct link to heading">â€‹</a></h3><p>Installs all adaptors in <code>repos</code> file to the <code>/adaptors</code> directory and prepares
the working directory. This needs to be run before running any of the other
scripts. Pass <code>npm-install</code> to run npm install for each adaptor also.</p><p><code>./scripts/bootstrap npm-install</code> - to clone, set up hooks and npm install in
each <code>./scripts/bootstrap</code>- to clone and set up hooks in each</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="generate-projectjs">generate-project.js<a class="hash-link" href="#generate-projectjs" title="Direct link to heading">â€‹</a></h3><p><code>./scripts/generate-project.js</code> interactively generates a YAML project
configuration file that can be used both on the OpenFn platform and in OpenFn
microservice to define projects.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="generate-doclets">generate-doclets<a class="hash-link" href="#generate-doclets" title="Direct link to heading">â€‹</a></h3><p>Iterates overs all language pack folder names found in the <code>repos</code> list and
creates a doclet json file in the <code>doclets</code> directory.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="analyse-doclets">analyse-doclets<a class="hash-link" href="#analyse-doclets" title="Direct link to heading">â€‹</a></h3><p>Iterates overs all doclets found in <code>doclets</code> and gives a tree view of the
doclet structure using <a href="https://github.com/OpenFn/jsdoc-query" target="_blank" rel="noopener noreferrer">jsdoc-query</a>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="building-adaptors-for-platform">Building adaptors for platform<a class="hash-link" href="#building-adaptors-for-platform" title="Direct link to heading">â€‹</a></h2><p>All adaptor releases are built inside a <code>docker container</code>. The importance of
running the build and release process through a container is to standardize the
build environment across the team. While adaptors can be built and run on lots
of different operating systems and architectures, when we run the platform on
Kubernetes it expects linux boxes running x86... so that&#x27;s where we build these
official releases.</p><p>Here&#x27;s how to build and release adaptors:</p><ol><li>Reopen your package in <strong>dev-container</strong> by typing <code>ctrl+shift+p</code> (or
<code>cmd+shift+p</code> on mac) and choosing <strong>Remote-Container: Rebuild and Reopen in
Container</strong>.</li><li>After the build is finished, open a terminal in vscode and run
<code>openfn-devtools release .</code> to build, tag, and push to
<a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm</a>.</li><li>Run <code>openfn-devtools package-release .</code> to package everything with production
dependencies and push to <a href="https://github.com/openfn" target="_blank" rel="noopener noreferrer">Github</a>.</li></ol><p>Depending on how you&#x27;ve configured your local environment and your VSCode
installation, you might encounter access issues preventing connections to NPM
and GitHub.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">â€‹</a></h3><p>There are a number of issues that you may encounter related to sharing settings
that are responsible for passing ssh keys and local configurations from your
host machine into the VSCode container.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="git-config-issues">Git config issues<a class="hash-link" href="#git-config-issues" title="Direct link to heading">â€‹</a></h3><p>An issue can pop up about git config not set, To solve this, you should probably
set your email and name globally using the commands below:</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git config --global user.email &quot;youremail@something.com&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git config --global user.name &quot;Your Name&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="ssh-key-issues">SSH key issues<a class="hash-link" href="#ssh-key-issues" title="Direct link to heading">â€‹</a></h3><p>You may find that you are unable to access your <code>ssh</code> keys from inside the
container.</p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Error</h5></div><div class="admonition-content"><p>permission denied (publickey)</p></div></div><p>To solve this, first make sure the <code>ssh agent</code> is
<a href="https://code.visualstudio.com/docs/remote/containers#_sharing-git-credentials-with-your-container" target="_blank" rel="noopener noreferrer">up and running</a>.
In MacOS, it is running by default. On Linux you can start the agent using the
command</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">eval $(ssh-agent -s)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then you can add these line your <code>~/.bash_profile</code> or <code>~/.zprofile</code> (for Zsh) to
make it run by default.</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">if [ -z &quot;$SSH_AUTH_SOCK&quot; ]; then</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   RUNNING_AGENT=&quot;`ps -ax | grep &#x27;ssh-agent -s&#x27; | grep -v grep | wc -l | tr -d &#x27;[:space:]&#x27;`&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   if [ &quot;$RUNNING_AGENT&quot; = &quot;0&quot; ]; then</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      # Launch a new instance of the agent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ssh-agent -s &amp;&gt; $HOME/.ssh/ssh-agent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   fi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   eval `cat $HOME/.ssh/ssh-agent`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fi</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Next, run the command below to add your identity to the ssh agent:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Linux</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">MacOS</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ssh-add &lt;path-to-your-ssh-file&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ssh-add -A</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>Finally, configure VSCode to share your local ssh keys with the dev container.
In VSCode, go to <code>Settings</code>, and in the search bar, type
<code>terminal.integrated.inherit</code>. You should see the option in the image below and
check it if it&#x27;s unchecked.</p><p><img alt="vscode settings" src="/assets/images/vscode-settings-41387d833ade3295b22b17fbd500c692.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="github-token-sharing">Github token sharing<a class="hash-link" href="#github-token-sharing" title="Direct link to heading">â€‹</a></h3><p>Our release process relies on a <code>GH_TOKEN</code> variable. Set up an
<a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" target="_blank" rel="noopener noreferrer">access token</a>
in Github.</p><p>In your <code>~/.bash_profile</code> or <code>~/.zshrc</code> file, export the newly created token by
adding this line:</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">export GH_TOKEN=&lt;TOKEN&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="using-a-new-adaptor-in-an-openfnplatform-instance">Using a new adaptor in an OpenFn/platform instance<a class="hash-link" href="#using-a-new-adaptor-in-an-openfnplatform-instance" title="Direct link to heading">â€‹</a></h2><ol><li>Add your release to the <code>scripts/install-lp</code> script.</li><li>Add the version number to <code>priv/adaptors.json</code>.</li><li>Add the <code>bodySchema</code> to <code>CredentialView.js</code>.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openfn/docs/edit/main/docs/devtools/home.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documentation/source-apps"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Generic Sources</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/documentation/build/adaptors"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adaptors</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#up-and-running" class="table-of-contents__link toc-highlight">Up and running</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#bash-usage" class="table-of-contents__link toc-highlight">Bash usage</a></li><li><a href="#the---test-option" class="table-of-contents__link toc-highlight">The <code>--test</code> option</a></li></ul></li><li><a href="#configure-an-openfn-project" class="table-of-contents__link toc-highlight">Configure an OpenFn project</a></li><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-Requisites</a></li><li><a href="#scripts" class="table-of-contents__link toc-highlight">Scripts</a><ul><li><a href="#bootstrap" class="table-of-contents__link toc-highlight">bootstrap</a></li><li><a href="#generate-projectjs" class="table-of-contents__link toc-highlight">generate-project.js</a></li><li><a href="#generate-doclets" class="table-of-contents__link toc-highlight">generate-doclets</a></li><li><a href="#analyse-doclets" class="table-of-contents__link toc-highlight">analyse-doclets</a></li></ul></li><li><a href="#building-adaptors-for-platform" class="table-of-contents__link toc-highlight">Building adaptors for platform</a><ul><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li><li><a href="#git-config-issues" class="table-of-contents__link toc-highlight">Git config issues</a></li><li><a href="#ssh-key-issues" class="table-of-contents__link toc-highlight">SSH key issues</a></li><li><a href="#github-token-sharing" class="table-of-contents__link toc-highlight">Github token sharing</a></li></ul></li><li><a href="#using-a-new-adaptor-in-an-openfnplatform-instance" class="table-of-contents__link toc-highlight">Using a new adaptor in an OpenFn/platform instance</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">This Site</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/documentation">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/library">Library</a></li><li class="footer__item"><a class="footer__link-item" href="/articles">Articles</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://community.openfn.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/openfn" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/openfn" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.openfn.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenFn.org</a></li><li class="footer__item"><a href="https://github.com/openfn" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Open Function Group LLC</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b5b89c5b.js"></script>
<script src="/assets/js/main.c699b8bd.js"></script>
</body>
</html>