



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="README, Getting Started, Documentation, and Release Notes for OpenFn">
      
      
        <link rel="canonical" href="https://openfn.github.io/docs/source-apps.html">
      
      
        <meta name="author" content="OpenFn">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Source Apps - OpenFn Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
      <script src="assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-57118569-4", "openfn.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#connecting-source-applications-to-openfn" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://openfn.github.io/docs" title="OpenFn Documentation" class="md-header-nav__button md-logo">
          
            <img src="images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              OpenFn Documentation
            </span>
            <span class="md-header-nav__topic">
              Source Apps
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/openfn/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://openfn.github.io/docs" title="OpenFn Documentation" class="md-nav__button md-logo">
      
        <img src="images/logo.svg" width="48" height="48">
      
    </a>
    OpenFn Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/openfn/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="quick-start.html" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="faqs.html" title="FAQs" class="md-nav__link">
      FAQs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="about.html" title="About us" class="md-nav__link">
      About us
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      The OpenFn.org Platform
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        The OpenFn.org Platform
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="documentation.html" title="Basic Documentation" class="md-nav__link">
      Basic Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="trouble-shooting.html" title="Troubleshooting Data Errors" class="md-nav__link">
      Troubleshooting Data Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="appendix.html" title="Snippets & Sample Code" class="md-nav__link">
      Snippets & Sample Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="release-notes.html" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="diy.html" title="DIY" class="md-nav__link">
      DIY
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Writing Jobs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Writing Jobs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="core.html" title="Job Execution" class="md-nav__link">
      Job Execution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="job-library.html" title="The Job Library" class="md-nav__link">
      The Job Library
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Connecting Data Sources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Connecting Data Sources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Source Apps
      </label>
    
    <a href="source-apps.html" title="Source Apps" class="md-nav__link md-nav__link--active">
      Source Apps
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standard-webhook-configuration" title="Standard webhook configuration" class="md-nav__link">
    Standard webhook configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commcare-hq" title="CommCare HQ" class="md-nav__link">
    CommCare HQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magpi" title="Magpi" class="md-nav__link">
    Magpi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#surveycto" title="SurveyCTO" class="md-nav__link">
    SurveyCTO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-data-kit-odk-collect" title="Open Data Kit (ODK) Collect" class="md-nav__link">
    Open Data Kit (ODK) Collect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-data-kit-odk-aggregate" title="Open Data Kit (ODK) Aggregate" class="md-nav__link">
    Open Data Kit (ODK) Aggregate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kobo-toolbox" title="Kobo Toolbox" class="md-nav__link">
    Kobo Toolbox
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onaio" title="Ona.io" class="md-nav__link">
    Ona.io
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#community-health-toolkit" title="Community Health Toolkit" class="md-nav__link">
    Community Health Toolkit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-formsgoogle-sheets" title="Google Forms/Google Sheets" class="md-nav__link">
    Google Forms/Google Sheets
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="for-devs.html" title="Application Developers" class="md-nav__link">
      Application Developers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standard-webhook-configuration" title="Standard webhook configuration" class="md-nav__link">
    Standard webhook configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commcare-hq" title="CommCare HQ" class="md-nav__link">
    CommCare HQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magpi" title="Magpi" class="md-nav__link">
    Magpi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#surveycto" title="SurveyCTO" class="md-nav__link">
    SurveyCTO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-data-kit-odk-collect" title="Open Data Kit (ODK) Collect" class="md-nav__link">
    Open Data Kit (ODK) Collect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-data-kit-odk-aggregate" title="Open Data Kit (ODK) Aggregate" class="md-nav__link">
    Open Data Kit (ODK) Aggregate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kobo-toolbox" title="Kobo Toolbox" class="md-nav__link">
    Kobo Toolbox
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onaio" title="Ona.io" class="md-nav__link">
    Ona.io
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#community-health-toolkit" title="Community Health Toolkit" class="md-nav__link">
    Community Health Toolkit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-formsgoogle-sheets" title="Google Forms/Google Sheets" class="md-nav__link">
    Google Forms/Google Sheets
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/openfn/docs/edit/master/docs/source-apps.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="connecting-source-applications-to-openfn">Connecting Source Applications to OpenFn<a class="headerlink" href="#connecting-source-applications-to-openfn" title="Permanent link">#</a></h1>
<h2 id="standard-webhook-configuration">Standard webhook configuration<a class="headerlink" href="#standard-webhook-configuration" title="Permanent link">#</a></h2>
<p>This section describes how to enable push notifications from selected source
applications or how to configure pull jobs to fetch data from those sources. If
you don't see yours in the alphabetical list below feel free to add it with a
pull request.</p>
<p>Every OpenFn project has a unique <strong>Inbox URL</strong> address that can be used as an 
endpoint for any JSON webhook. To set up a data source, configure that source 
to make a POST over HTTPS to your Inbox URL. See <a href="https://docs.openfn.org/documentation.html#connecting-source-applications">Connecting Source Applications</a>. </p>
<p>To connect an application with standard JSON webhooks, copy your inbox URL from
the "Inbox" page or your "Project Settings" screen and use it as the destination
URL on your source application. Unless you have specifically configured it on
the "Access &amp; Security" page, no authentication is required. </p>
<p><strong><em>N.B.: This is by no means an exhaustive list.</em></strong> It is merely a list of
common sources that external contributors have added. Remember that anything
with a REST api or a JSON-based notification service can be used with OpenFn.</p>
<h2 id="commcare-hq">CommCare HQ<a class="headerlink" href="#commcare-hq" title="Permanent link">#</a></h2>
<ol>
<li>Go to "Project Settings".</li>
<li>Click "Data Forwarding".</li>
<li>"Add a forwarding location" for Cases, Forms, or both.</li>
<li>Specify JSON, using your OpenFn inbox URL as the target. See the
   <a href="https://confluence.dimagi.com/pages/viewpage.action?pageId=12224128">CommCare documentation</a>.</li>
<li>Create a
   <a href="/docs/documentation.html#match-a-message-with-a-fragment-inside-another-object-called-form">message-filter trigger like this</a>.</li>
<li>Set up a <code>job</code> running on that filter to process CommCare submissions or case
   updates.</li>
</ol>
<h2 id="magpi">Magpi<a class="headerlink" href="#magpi" title="Permanent link">#</a></h2>
<p>Magpi is not able to push data to external URLs. In order to fetch data from
Magpi, you must run a scheduled job with a cron trigger using <code>langugage-magpi</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">fetchSurveyData</span><span class="p">({</span>
  <span class="nx">surveyId</span><span class="o">:</span> <span class="mi">37479</span><span class="p">,</span> <span class="c1">// the survey id</span>
  <span class="nx">afterDate</span><span class="o">:</span> <span class="s1">&#39;2016-05-31&#39;</span><span class="p">,</span> <span class="c1">// the initial &quot;after&quot; date</span>
  <span class="c1">// after the first run, OpenFn will only fetch new submissions</span>
  <span class="nx">postUrl</span><span class="o">:</span> <span class="s1">&#39;https://www.openfn.org/inbox/secret-5c25-inbox-ba2c-url&#39;</span><span class="p">,</span> <span class="c1">// the inbox to post form data to.</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<p>Every time this job runs it will only fetch new data, by default.</p>
<h2 id="surveycto">SurveyCTO<a class="headerlink" href="#surveycto" title="Permanent link">#</a></h2>
<p>SurveyCTO is not able to push data to external URLs. In order to fetch data from
SurveyCTO, you must run a job on a using <code>language-surveycto</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">fetchSubmissions</span><span class="p">(</span>
  <span class="s1">&#39;form_id&#39;</span><span class="p">,</span> <span class="c1">// the form id</span>
  <span class="s1">&#39;Sep 1, 2016 3:56:02 PM&#39;</span><span class="p">,</span> <span class="c1">// the initial &quot;after&quot; date</span>
  <span class="c1">// after the first run, OpenFn will only fetch new submissions</span>
  <span class="s1">&#39;https://www.openfn.org/inbox/something-secret&#39;</span> <span class="c1">// the inbox to post form data to.</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>

<p>Every time this job runs it will only fetch new data, by default.</p>
<h2 id="open-data-kit-odk-collect">Open Data Kit (ODK) Collect<a class="headerlink" href="#open-data-kit-odk-collect" title="Permanent link">#</a></h2>
<p>To bypass ODK Aggregate and submit forms directly to OpenFn make the following
changes in your ODK Collect app.</p>
<ol>
<li>Select <code>General Settings</code>.</li>
<li>Select <code>Server Settings</code>.</li>
<li>Under <code>Type</code>, select <code>Other</code>.</li>
<li>Under <code>URL</code>, enter `https://www.openfn.org</li>
<li>Under <code>Submission path</code>, enter <code>/inbox/your-unique-inbox-url</code> (you can copy
   this from your OpenFn Inbox).</li>
<li>Optional: If you have enabled auth methods on your inbox, enter your
   <code>username</code> and <code>password</code> on this same screen.</li>
</ol>
<p>Note that you cannot load forms from OpenFn. Forms must be loaded directly via
<a href="https://docs.opendatakit.org/collect-forms/#loading-forms-directly">ODK's direct method</a>,
which allows you to send forms as files via email/Whatsapp. Users can then
choose to download the files and save them in the <code>odk/ forms</code> folder on their
mobile.</p>
<p>Note that if you want to reverse this setup and configure ODK Collect to
re-connect to your Aggregate instance again:`</p>
<ol>
<li>Go back to <code>General Settings</code>.</li>
<li>Select <code>Server Settings</code>.</li>
<li>Under <code>Type</code>, select <code>ODK Aggregate</code>.</li>
<li>Under <code>URL</code>, enter <code>Your Aggregate URL</code></li>
<li>Under <code>Submission path</code>, enter <code>/submissions</code>.</li>
<li>Enter your ODK Aggregate <code>username</code> and <code>password</code> on this same screen.</li>
</ol>
<h2 id="open-data-kit-odk-aggregate">Open Data Kit (ODK) Aggregate<a class="headerlink" href="#open-data-kit-odk-aggregate" title="Permanent link">#</a></h2>
<ol>
<li>To new submissions from ODK in real-time, click the "Form Management" tab at
   the top of your Aggregate interface.</li>
<li>Click "Publish" next to the form you'd like to publish to OpenFn.</li>
<li>A dialogue box will open.</li>
<li>In the "Publish To:" picklist, select <code>Z-ALPHA JSON Server</code>.</li>
<li>Choose which data to publish in the "Data to Publish:" picklist. You may:
   <strong>"Upload Existing Data ONLY"</strong> (ideal for migrations of finished data sets),
   <strong>"Stream New Submission Data ONLY"</strong> (ideal for new projects), or <strong>"BOTH
   Upload Existing &amp; Stream New Submission Data"</strong> (ideal for connecting ongoing
   projects which are already running).</li>
<li>In the "URL to publish to:" text box, enter your OpenFn Inbox UUID. (e.g.,
   <code>https://www.openfn.org/inbox/8ad63a29-mUCh-sEcRET-cODes-wOW</code>)</li>
<li>Leave "Authorization token:" blank.</li>
<li>Leave "Include Media as:" set to "Links(URLs) to Media".</li>
<li>Click "Publish" and enter your email address in the dialogue box.</li>
<li>Click the "Published Data" tab under "Form Management" and select your form
    to view the status of your publisher. You can also now check your OpenFn
    inbox to see ODK submissions arrive.</li>
</ol>
<h2 id="kobo-toolbox">Kobo Toolbox<a class="headerlink" href="#kobo-toolbox" title="Permanent link">#</a></h2>
<ol>
<li>To push data from Kobo, users must click the projects icon on their left-side
   nav bar. It's in the shape of a globe.</li>
<li>Once selecting a project, the <code>Project Settings</code> link will appear at the top
   left side of the screen. Click it to open the Project Settings page.</li>
<li>In the bottom left pane of the project settings page, users must paste their
   inbox URL from OpenFn into the <code>Rest Services</code> <code>Service URL</code> input area and
   select <code>JSON Post</code> as the <code>Service Name</code>.</li>
<li>It's helpful to add a wrapper to your form data if you will be publishing
   multiple forms to OpenFn. You could use
   <code>{"form":"my_form", "body": %SUBMISSION%}</code>.</li>
<li>Click <code>Add Service</code> to start forwarding new Kobo submissions to OpenFn.org.</li>
</ol>
<p>To test to integration, add a submission manually using the
<code>enter data in browser</code> button. Head back to your history page at OpenFn to view
the newly submitted data and write a new <code>filter</code> and <code>job</code> to map your Kobo
data to any destination system on OpenFn.</p>
<p>Here's a sample post from Kobo REST service. Note that questions inside groups
are prefixed with <code>groupname/</code> rather than sitting inside a group object like
ODK:
<code>json { "meta/instanceID": "uuid:19d72997-8316-4e02-8016-4a8ddf6a2aa4", "group1/name": "twenty", "group1/age": "19", "formhub/uuid": "6f5773a110b046cb97e3d71f6c04e7a6", "first_q": "hello", "final_q": "why not?", "_xform_id_string": "groups", "_uuid": "19d72997-8316-4e02-8016-4a8ddf6a2aa4", "_userform_id": "taylordowns2000_groups", "_tags": [], "_submitted_by": null, "_submission_time": "2016-04-22T06:38:20", "_status": "submitted_via_web", "_notes": [], "_id": 889409, "_geolocation": [ null, null ], "_bamboo_dataset_id": "", "_attachments": [] }</code></p>
<h2 id="onaio">Ona.io<a class="headerlink" href="#onaio" title="Permanent link">#</a></h2>
<ol>
<li>To push data from Ona.io, click on the drop-down menu next to a specific form
   and select <code>Settings</code>.</li>
<li>On the left-side menu, select <code>Webhooks</code>.</li>
<li>Paste your OpenFn inbox URL into the URL input field.</li>
<li>Click "Add webhook".</li>
<li>Ensure that the webhook is now listed with the <code>JSON</code> tag, indicating that it
   will forward data as JSON.</li>
<li>Check to see that, once a form is submitted, it is forwarded to your OpenFn
   inbox.</li>
</ol>
<h2 id="community-health-toolkit">Community Health Toolkit<a class="headerlink" href="#community-health-toolkit" title="Permanent link">#</a></h2>
<ol>
<li>To push data from CHT applications to OpenFn, leverage the <a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/outbound/">Outbound Push</a> feature to forward specified data to your OpenFn project. </li>
<li>When definining the <a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/outbound/#destination"><code>destination</code></a>, specify your OpenFn inbox URL as the <code>baseURL</code>. No <code>auth</code> parameters are required, unless you have configured Inbox Security on your OpenFn project. </li>
<li>Define the data to forward to OpenFn in the <a href="https://docs.communityhealthtoolkit.org/apps/reference/app-settings/outbound/#mapping"><code>mapping</code></a> property. This will structure the payload that is sent to your OpenFn Inbox as a "Message". </li>
</ol>
<p>To send data <em>to</em> CHT applications, check out the <a href="https://docs.communityhealthtoolkit.org/apps/reference/api/">CHT API</a>.</p>
<h2 id="google-formsgoogle-sheets">Google Forms/Google Sheets<a class="headerlink" href="#google-formsgoogle-sheets" title="Permanent link">#</a></h2>
<p>You can send data to OpenFn whenever a new row is added to a Google Sheet, for
example when a new submission is made to a Google Form. Below is some sample
code you may add to your Google Sheet to make it push data to OpenFn whenever
new rows are added.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">sendToOpenFn</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.openfn.org/inbox/your-id-here&#39;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">contentType</span><span class="o">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
    <span class="nx">payload</span><span class="o">:</span> <span class="nx">payload</span><span class="p">,</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">UrlFetchApp</span><span class="p">.</span><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">isDate</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Date]&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">v</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()))</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">isNumber</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Number]&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getReportData</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">bookReportData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">formId</span><span class="o">:</span> <span class="s1">&#39;bookReport&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span> <span class="p">[]</span> <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">SpreadsheetApp</span><span class="p">.</span><span class="nx">getActiveSheet</span><span class="p">().</span><span class="nx">getDataRange</span><span class="p">().</span><span class="nx">getValues</span><span class="p">();</span>

  <span class="kd">var</span> <span class="nx">pageCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bookRating</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">isDate</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span> <span class="p">{</span>
      <span class="c1">//  ignore header line</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nx">pageCount</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>
      <span class="p">}</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">6</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nx">bookRating</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">6</span><span class="p">];</span>
      <span class="p">}</span>

      <span class="nx">bookReportData</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
        <span class="nx">Timestamp</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
        <span class="nx">Title</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
        <span class="nx">Author</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span>
        <span class="nx">NumberOfPages</span><span class="o">:</span> <span class="nx">pageCount</span><span class="p">,</span>
        <span class="nx">Summary</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">4</span><span class="p">],</span>
        <span class="nx">Protagonist</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">5</span><span class="p">],</span>
        <span class="nx">Rating</span><span class="o">:</span> <span class="nx">bookRating</span><span class="p">,</span>
        <span class="nx">EmailTeacher</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">7</span><span class="p">],</span>
        <span class="nx">EmailStudent</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">8</span><span class="p">],</span>
        <span class="nx">SendStatus</span><span class="o">:</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">9</span><span class="p">],</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">//  Logger.log(bookReportData);</span>

  <span class="nx">sendToOpenFn</span><span class="p">(</span><span class="nx">bookReportData</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="job-library.html" title="The Job Library" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                The Job Library
              </span>
            </div>
          </a>
        
        
          <a href="for-devs.html" title="Application Developers" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Application Developers
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright (c) 2019 Open Function Group LLC
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="assets/fonts/font-awesome.css">
    
      <a href="https://github.com/openfn" class="md-footer-social__link fa fa-"></a>
    
      <a href="https://facebook.com/openfn" class="md-footer-social__link fa fa-"></a>
    
      <a href="https://twitter.com/openfn" class="md-footer-social__link fa fa-"></a>
    
      <a href="https://linkedin.com/in/openfn" class="md-footer-social__link fa fa-"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
        <script src="freshChat.js"></script>
      
    
  </body>
</html>