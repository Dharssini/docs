"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[2280],{15680:(e,t,o)=>{o.d(t,{xA:()=>u,yg:()=>y});var n=o(96540);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),l=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},u=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),g=l(o),c=r,y=g["".concat(s,".").concat(c)]||g[c]||m[c]||a;return o?n.createElement(y,i(i({ref:t},u),{},{components:o})):n.createElement(y,i({ref:t},u))}));function y(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=c;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[g]="string"==typeof e?e:r,i[1]=p;for(var l=2;l<a;l++)i[l]=o[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}c.displayName="MDXCreateElement"},83407:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>p,toc:()=>l});var n=o(58168),r=(o(96540),o(15680));const a={title:"Migration Steps",sidebar_label:"Migration Steps",slug:"/migration-steps"},i=void 0,p={unversionedId:"migration/migration-steps",id:"migration/migration-steps",title:"Migration Steps",description:"In this article, we walk you through the steps of migrating your project from",source:"@site/docs/migration/migration-steps.md",sourceDirName:"migration",slug:"/migration-steps",permalink:"/documentation/migration-steps",draft:!1,editUrl:"https://github.com/openfn/docs/edit/main/docs/migration/migration-steps.md",tags:[],version:"current",frontMatter:{title:"Migration Steps",sidebar_label:"Migration Steps",slug:"/migration-steps"},sidebar:"docs",previous:{title:"Style Guide",permalink:"/documentation/style-guide"},next:{title:"Converting v1 Triggers",permalink:"/documentation/converting-triggers"}},s={},l=[{value:"Overview of Migration from v1 to v2",id:"overview-of-migration-from-v1-to-v2",level:2}],u={toc:l},g="wrapper";function m(e){let{components:t,...o}=e;return(0,r.yg)(g,(0,n.A)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"In this article, we walk you through the steps of migrating your project from\nOpenFn v1 to v2. Some of these steps may require you to make new design\ndecisions. For customized migration support, ask your questions on our\n",(0,r.yg)("a",{parentName:"p",href:"https://.community.openfn.org"},"Community")," or get in touch at\n",(0,r.yg)("a",{parentName:"p",href:"mailto://support@openfn.org"},"support@openfn.org"),"."),(0,r.yg)("h2",{id:"overview-of-migration-from-v1-to-v2"},"Overview of Migration from v1 to v2"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Register at ",(0,r.yg)("a",{parentName:"p",href:"https://app.openfn.org/"},"https://app.openfn.org/"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("a",{parentName:"p",href:"/documentation/manage-projects/platform-mgmt"},"Customize your project space")," with a\ncustom name and description.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Think about how long you want OpenFn to retain your input and output data and\nconfigure data storage accordingly.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Automated migration"),": It is possible to migrate an entire project from v1\nto v2 in an automated way. You can do this by going to Project Settings on\nv1, clicking ",(0,r.yg)("inlineCode",{parentName:"p"},"Export Config")," and choosing ",(0,r.yg)("inlineCode",{parentName:"p"},"Export for v2 (migrate)"),". You will\nreceive a ",(0,r.yg)("inlineCode",{parentName:"p"},"project.yaml")," file containing your entire project configuration\nwith jobs and triggers. Set up Github sync for your v2 project following\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/link-to-Github"},"this guide"),". Then, to migrate, commit the\nexported ",(0,r.yg)("inlineCode",{parentName:"p"},"project.yaml")," file to the Github repo you want to link to your v2\nproject, and iniate a sync. Your v1 project configuration will be deployed to\nyour v2 project."))),(0,r.yg)("admonition",{type:"warning"},(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("em",{parentName:"p"},"BUG"),": The v1 Export Config feature doesn\u2019t work at the moment. For now, you can\nbuild your Workflows manually on v2 as described in steps 5-13 below.")),(0,r.yg)("ol",{start:5},(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"On v2, the jobs you use for automating tasks are organized as\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/tutorials/tutorial"},"Workflows"),', where each Job is 1 "Step" in a\nWorkflow. Build out a skeleton to get started: set up\n',(0,r.yg)("a",{parentName:"p",href:"/documentation/build/triggers"},"Triggers")," and the key\n",(0,r.yg)("a",{parentName:"p",href:"https://docs.openfn.org/documentation/build/steps"},"Steps")," to get started.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"While configuring the Steps in your workflow, consider which ",(0,r.yg)("em",{parentName:"p"},"which\nconditions")," define when the next Step should execute. On v2, you can define\n",(0,r.yg)("a",{parentName:"p",href:"https://docs.openfn.org/documentation/build/paths"},"Path conditions"),' to\nconfigure whether a Step should run "on success", "on failure", or based on\ncustom logic. Follow\n',(0,r.yg)("a",{parentName:"p",href:"/documentation/converting-triggers"},'our guide on converting your v1 "triggers" to v2 configuration'),"\nto learn more.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Once the basic Steps and Paths are configured, copy your job code from your\nGitHub repository or directly from your v1 project and paste it into each\nStep's Inspector view. Get familiar with the revamped Job Inspector for code\nediting ",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/steps/step-editor"},"here"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Make sure the Adaptor and Adaptor Version match your v1 jobs exactly. See the\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/steps/step-editor"},"Steps docs")," for more info on these.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Create ",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/credentials"},"Credentials")," for your test and production\nsystems. ",(0,r.yg)("strong",{parentName:"p"},'First test your workflows using your "test" or "sandbox"\ncredentials.'))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Once the Steps are fully configured, add a new custom input and\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/steps/step-editor"},"run your workflow")," to start testing.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Check out the ",(0,r.yg)("a",{parentName:"p",href:"/documentation/monitor-history/activity-history"},"History")," page to\nmonitor and review your Workflow runs.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Test and iterate.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Once the Workflow is validated, back up your configuration to Github. Follow\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/link-to-Github"},"this guide")," to learn how it works and set it up."),(0,r.yg)("admonition",{parentName:"li",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"Once the Github sync is live, consider that all changes will be synced with\nthe project.yaml file. Therefore, any job changes made via Github, must be\napplied directly to this file. (Unlike the v1 Github sync, edits to\nindividual job files will not sync to the OpenFn v2 app. Rather, all changes\nmust be made in the ",(0,r.yg)("inlineCode",{parentName:"p"},"project.yaml")," file or within the linked web app)."))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"You may have other design decisions to make, too. For example, if your\noriginal v1 workflow uses a post request to an OpenFn Inbox in between\nsteps, you should adjust your design so that your jobs are linked together\nin one Workflow (1 Step for each Job you had in the v1 configuration). (You\ncan still execute another workflow via post request, but this is suboptimal\nin v2\u2014slower and more costly.)")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"If you\u2019re using a Webhook Trigger, you can add an extra layer of security by\nrequiring authentication\n(",(0,r.yg)("a",{parentName:"p",href:"/documentation/webhook-security"},"see relevant docs"),"). Note that if you\ndo this, you will need to update the webhook configuration in the external\napp that points to OpenFn.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Fine-tune your security configuration by following our\n",(0,r.yg)("a",{parentName:"p",href:"https://docs.google.com/document/d/1XtiiKszeK5MAltPyqvlL4KCjkHC87YYlX8OPh6fZn4c/edit?usp=sharing"},"Project Security and Go-Live Checklist"),"\nto consider other v2-specific security features\n(",(0,r.yg)("a",{parentName:"p",href:"/documentation/manage-projects/io-data-storage"},"such as input/output data storage"),").")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Test some more.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},'When all workflows run smoothly, update each Step to use a "production"\ncredential to connect to live systems.')),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"If webhooks are used in your source applications, update endpoints in your\nproduction systems to point to your v2 OpenFn Workflows.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"You\u2019re now done with your new v2 setup! You can monitor usage on your\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/monitoring-workflows"},"Workflows Dashboard"),". Now time to\nshut down your v1 project.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Turn off your jobs on v1 and remove the GitHub connection there.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"If you want to export your v1 data for reference or archival, get in touch\nwith us at ",(0,r.yg)("a",{parentName:"p",href:"mailto://support@openfn.org"},"support@openfn.org"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Finally, when ready, request to delete your project on v1. To do this, go to\nyour v1 ",(0,r.yg)("inlineCode",{parentName:"p"},"Project Settings")," and select the ",(0,r.yg)("inlineCode",{parentName:"p"},"Delete Project")," button."))),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"The OpenFn v1 platform will be sunsetted in 2025. If you need support migrating\nyour project, post on ",(0,r.yg)("a",{parentName:"p",href:"https://community.openfn.org"},"Community")," or contact\n",(0,r.yg)("a",{parentName:"p",href:"mailto://support@openfn.org"},"support@openfn.org")," for paid support options.")))}m.isMDXComponent=!0}}]);