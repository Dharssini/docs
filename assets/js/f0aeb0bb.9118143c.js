(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[6307],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return m},kt:function(){return u}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=p(a),u=r,g=d["".concat(l,".").concat(u)]||d[u]||c[u]||o;return a?n.createElement(g,i(i({ref:t},m),{},{components:a})):n.createElement(g,i({ref:t},m))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},54061:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return l},default:function(){return m}});var n=a(22122),r=a(19756),o=(a(67294),a(3905)),i={title:"How to design an integration"},s={unversionedId:"design/design-integration",id:"design/design-integration",isDocsHomePage:!1,title:"How to design an integration",description:"Define user stories",source:"@site/docs/design/design-integration.md",sourceDirName:"design",slug:"/design/design-integration",permalink:"/documentation/design/design-integration",editUrl:"https://github.com/openfn/docs/edit/main/docs/design/design-integration.md",version:"current",frontMatter:{title:"How to design an integration"}},l=[{value:"Define user stories",id:"define-user-stories",children:[]},{value:"Gather integration requirements",id:"gather-integration-requirements",children:[]},{value:"Document your data flows",id:"document-your-data-flows",children:[{value:"Data Flow Diagrams",id:"data-flow-diagrams",children:[]}]},{value:"Map your data elements",id:"map-your-data-elements",children:[{value:"To build a complete mapping template, you\u2019ll need to...",id:"to-build-a-complete-mapping-template-youll-need-to",children:[]},{value:"Example Mapping Specs",id:"example-mapping-specs",children:[]},{value:"Tips for drafting mapping specifications",id:"tips-for-drafting-mapping-specifications",children:[]}]}],p={toc:l};function m(e){var t=e.components,a=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"define-user-stories"},"Define user stories"),(0,o.kt)("p",null,"AK to draft how to draft user stories. "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example user stories:")," "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"CommCare - Salesforce:")," As a community health worker I want to store patient data that was collected in rural areas with no internet access in Salesforce so I can better analyze the data being collected and make more informed recommendations. "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"DHIS2 - Go.Data:")," As a MOH employee, I would like to integrate contact data from my country\u2019s surveillance system, so that I can use Go.Data for contact tracing & follow-up in a way that does not duplicate efforts.\t"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Kobo Toolbox - MSSQL Database:")," As a M&E manager, I want to monitor Kobo Toolbox survey responses in real-time in a central database, so that I can better understand data collection activities and program performance across my partner sites.")),(0,o.kt)("h2",{id:"gather-integration-requirements"},"Gather integration requirements"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Key design questions to consider:")," "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Why are they interested in integration? What problem are we solving for? What efficiency is to be gained?"),(0,o.kt)("li",{parentName:"ol"},"What data needs to flow between systems? Ideally, describe which ",(0,o.kt)("strong",{parentName:"li"},"specific resources")," in either system need to be ",(0,o.kt)("strong",{parentName:"li"},"created/ updated/ deleted"),".",(0,o.kt)("br",{parentName:"li"}),"(E.g., \u201cEvery time a new case is registered in CommCare, it must be entered into the DHIS2 system as a new tracked entity instance.\u201d Or, \u201cEvery night at 11pm, all hospital inventory transactions must be uploaded in bulk to our OpenLMIS inventory reporting system.) "),(0,o.kt)("li",{parentName:"ol"},"Direction of the data flow? (one-way or two-way)",(0,o.kt)("br",{parentName:"li"}),"If two-way, which is the ",(0,o.kt)("strong",{parentName:"li"},"system of record"),"? (I.e., if there is conflicting information about a record linked across these systems, which system\u2019s information will be considered true?)"),(0,o.kt)("li",{parentName:"ol"},"Volumes of data to be synced or processed over a specific unit of time? (e.g., 100 cases synced every 1 day/month/year, 500 SMS to be sent each month)"),(0,o.kt)("li",{parentName:"ol"},"Frequency of data sync? (i.e., real-time, daily batch sync @ 11pm) "),(0,o.kt)("li",{parentName:"ol"},"What ",(0,o.kt)("strong",{parentName:"li"},"triggers")," or \u201ckicks off\u201d a sync? (i.e., new case registration or update)"),(0,o.kt)("li",{parentName:"ol"},"Is the integration likely to change? "),(0,o.kt)("li",{parentName:"ol"},"What is the t",(0,o.kt)("strong",{parentName:"li"},"echnical capacity")," of the implementing organization? "),(0,o.kt)("li",{parentName:"ol"},"Are there available resources to provide ongoing support? "),(0,o.kt)("li",{parentName:"ol"},"Is there a desire to learn how to manage the solution independently? "),(0,o.kt)("li",{parentName:"ol"},"Do you have a full time system administrator for the systems that you plan to integrate?"),(0,o.kt)("li",{parentName:"ol"},"Does anyone in the organization have experience with ",(0,o.kt)("strong",{parentName:"li"},"JSON or Javascript"),"?"),(0,o.kt)("li",{parentName:"ol"},"Available ",(0,o.kt)("strong",{parentName:"li"},"API documentation"),"? Or available sample data? (See questions in the next step.)")),(0,o.kt)("p",null,"See this ",(0,o.kt)("strong",{parentName:"p"},"Interoperability Planning QuickStart")," for more questions to consider: ",(0,o.kt)("a",{parentName:"p",href:"https://worldhealthorganization.github.io/godata/interoperability-quickstart/"},"https://worldhealthorganization.github.io/godata/interoperability-quickstart/")),(0,o.kt)("h2",{id:"document-your-data-flows"},"Document your data flows"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Understand the ",(0,o.kt)("em",{parentName:"strong"},"user flow")," before/after/adjacent to the integration sync. The goal of this stage is to document the ",(0,o.kt)("em",{parentName:"strong"},"client\u2019s process"),".")),(0,o.kt)("p",null,"Ask the client to walk you through the system from user POV (user flow): "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Record a video   "),(0,o.kt)("li",{parentName:"ul"},"Ensure you have link(s) to sample data records  "),(0,o.kt)("li",{parentName:"ul"},"Export JSON state files to upload to Github ",(0,o.kt)("inlineCode",{parentName:"li"},"sampleData")," directory  ")),(0,o.kt)("h3",{id:"data-flow-diagrams"},"Data Flow Diagrams"),(0,o.kt)("p",null,"Data flow diagrams should capture how data should functionally flow between systems, what systems and users are involved , and the different process steps that might be manual/human or automated. This is a client-friendly diagram. "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Tips for drafting flow diagrams")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Consider 1 diagram for every triggering action"),(0,o.kt)("li",{parentName:"ul"},"Use swim lanes to specify the different systems involved"),(0,o.kt)("li",{parentName:"ul"},"Be clear about user vs. system/automated actions"),(0,o.kt)("li",{parentName:"ul"},"Consider scenarios if an action fails"),(0,o.kt)("li",{parentName:"ul"},"See here for best practice on flow diagram design and symbols to use: ",(0,o.kt)("a",{parentName:"li",href:"https://www.gliffy.com/blog/guide-to-flowchart-symbols"},"https://www.gliffy.com/blog/guide-to-flowchart-symbols"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Examples:"),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/presentation/d/1S_BuMzJ2MzcvJCoHUPWxkfwYkFP-V-ValIWH4EP3Cj8/edit"},"UNHCR Primero - UNICEF Progres"),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://drive.google.com/file/u/2/d/1KIS7IRhi79ebiWccebcL-ZprTYeg_j5a/view?usp=sharing"},"Moodle - CommCare"),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://worldhealthorganization.github.io/godata/1-2-godata--hmissurveillance-system/#solution-overview"},"Go.Data - HMIS"),"    "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Resources for building data flow diagrams:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.lucidchart.com/pages/examples/data-flow-diagram-software"},"LucidChart")),(0,o.kt)("li",{parentName:"ul"},"AK any others you have experience with? ")),(0,o.kt)("h2",{id:"map-your-data-elements"},"Map your data elements"),(0,o.kt)("p",null,"Mapping specifications typically involve a lot of client interaction, and will usually have multiple versions as we learn more about the system data models and potential variations in data inputs/outputs. They should serve as (1) documentation on how we\u2019re translating meaning between systems, and (2) as supporting specifications for job-writing.  These specifications are essential as the absence of proper specifications and data transformation logic can lead to poor data quality. "),(0,o.kt)("h3",{id:"to-build-a-complete-mapping-template-youll-need-to"},"To build a complete mapping template, you\u2019ll need to..."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Export the metadata for the systems you\u2019re connecting to"),(0,o.kt)("li",{parentName:"ol"},"Procure a sample state (to inform your source mappings & to consider if data value transformations will be needed)"),(0,o.kt)("li",{parentName:"ol"},"Procure a sample output record, if possible (to inform your destination mappings & to consider if data value transformations will be needed)")),(0,o.kt)("h3",{id:"example-mapping-specs"},"Example Mapping Specs"),(0,o.kt)("p",null,"Here is a ",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1c9UZwy6ohaftJREb83WYrTORKJ35xzwO01TJq4YHLCQ/edit#gid=281221207"},"template")," you can use to start. "),(0,o.kt)("p",null,"This template includes:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Details on the source fields such as API name, type, sample and comments:\n",(0,o.kt)("img",{parentName:"li",src:"https://user-images.githubusercontent.com/80456839/130796010-fe900c03-1bff-40c0-9263-c29e22d9191f.png",alt:"image"})),(0,o.kt)("li",{parentName:"ol"},"Similar details on the destination fields:\n",(0,o.kt)("img",{parentName:"li",src:"https://user-images.githubusercontent.com/80456839/130796087-67b0359d-207a-4169-aa88-6609572b2561.png",alt:"image"})),(0,o.kt)("li",{parentName:"ol"},"OpenFn-specific columns including transformations and comments:\n",(0,o.kt)("img",{parentName:"li",src:"https://user-images.githubusercontent.com/80456839/130796170-2e29a997-9b41-44f7-ac60-79375d096cc9.png",alt:"image"}))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Other examples:"),"\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1KpGTpa5CxzGeq19P_rMwR_t4SCroZQFnesX925QFf5M/edit#gid=0"},"ConSoSci example"),"\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1MX_uXqBMIp-Vpz4ZmDHMKCiHbSEN0JHM7tkb-zbIHtE/edit#gid=1107183492"},"DHIS2 example"),"\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1SNx5wB818ikveaVhHqW9c4N05leL1WGZulsdC_BJj70/edit"},"Go.Data example"),"\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1jx7jD7qBs6tc1WAZFwt6kZ_vo7t0-QffUGljE0P-N6A/edit#gid=937164064"},"Design workbook")),(0,o.kt)("h3",{id:"tips-for-drafting-mapping-specifications"},"Tips for drafting mapping specifications"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Version mappings")," to keep track of batches of changes requests  "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Color coding:")," Highlight any fields that require further discussion one color and any newly added fields another color"),(0,o.kt)("li",{parentName:"ul"},"Use Google Sheets comments and email to notify appropriate users when changes have been made to the mappings"),(0,o.kt)("li",{parentName:"ul"},"Include a ",(0,o.kt)("strong",{parentName:"li"},"legend/readme")," that explains how to use the mappings template "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Unique identifiers:")," spend time evaluating available unique identifier schemes and what options may already be implemented by related information systems"),(0,o.kt)("li",{parentName:"ul"},"When mapping multiple choice questions, make sure to consider how the answer choices should map to the source/destination system."),(0,o.kt)("li",{parentName:"ul"},"Check out system-specific mapping tips by visiting the ",(0,o.kt)("inlineCode",{parentName:"li"},"Apps")," section of the ",(0,o.kt)("a",{parentName:"li",href:"https://docs.openfn.org/documentation/"},"OpenFn Documentation")," site.")))}m.isMDXComponent=!0}}]);