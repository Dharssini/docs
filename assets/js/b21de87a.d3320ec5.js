(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{227:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return i})),o.d(t,"metadata",(function(){return s})),o.d(t,"toc",(function(){return p})),o.d(t,"default",(function(){return l}));var n=o(3),a=o(8),r=(o(0),o(300)),i={title:"Kobo Toolbox"},s={unversionedId:"apps/kobo-toolbox",id:"apps/kobo-toolbox",isDocsHomePage:!1,title:"Kobo Toolbox",description:"Overview",source:"@site/docs/apps/kobo-toolbox.md",sourceDirName:"apps",slug:"/apps/kobo-toolbox",permalink:"/documentation/apps/kobo-toolbox",editUrl:"https://github.com/openfn/docs/edit/main/docs/apps/kobo-toolbox.md",version:"current",frontMatter:{title:"Kobo Toolbox"},sidebar:"docs",previous:{title:"Google Forms/Google Sheets",permalink:"/documentation/apps/google-sheets"},next:{title:"Magpi",permalink:"/documentation/apps/magpi"}},p=[{value:"Overview",id:"overview",children:[]},{value:"Integration Use Cases",id:"integration-use-cases",children:[]},{value:"Integration Options",id:"integration-options",children:[{value:"Kobo Web API",id:"kobo-web-api",children:[]},{value:"Webhook service to forward submission data to OpenFn endpoint (or another app)",id:"webhook-service-to-forward-submission-data-to-openfn-endpoint-or-another-app",children:[]}]},{value:"OpenFn Adaptor",id:"openfn-adaptor",children:[]},{value:"Integration Examples",id:"integration-examples",children:[]}],b={toc:p};function l(e){var t=e.components,o=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},b,o,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"overview"},"Overview"),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://www.kobotoolbox.org/"},"Kobo Toolbox")," is a suite of open source tools for field data collection for use in challenging environments. If you've worked on ODK or ONA, the underlying tech is very similar. They offer free accounts and hosting for humanitarian projects, and the app provides a nice interface for managing (and cleaning!) form submissions."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Tool docs are (1) to ensure all OpenFn can more quickly and easily integrate\nwith common tools, and (2) to educate any OpenFn user/the wider sector."))),Object(r.b)("h2",{id:"integration-use-cases"},"Integration Use Cases"),Object(r.b)("p",null,"Example user stories: "),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"As a M&E manager, I want to monitor Kobo Toolbox survey responses in real-time in a central database, so that I can better understand data collection activities and program performance across my partner sites."),Object(r.b)("li",{parentName:"ul"},"...\n.")),Object(r.b)("h2",{id:"integration-options"},"Integration Options"),Object(r.b)("h3",{id:"kobo-web-api"},"Kobo Web API"),Object(r.b)("p",null,"Kobo APIs support both data and metadata integration. Check out: "),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Kobo API docs: ",Object(r.b)("a",{parentName:"li",href:"https://support.kobotoolbox.org/api.html"},"https://support.kobotoolbox.org/api.html")),Object(r.b)("li",{parentName:"ul"},"Kobo Community: ",Object(r.b)("a",{parentName:"li",href:"https://support.kobotoolbox.org/rest_services.html"},"https://support.kobotoolbox.org/rest_services.html")),Object(r.b)("li",{parentName:"ul"},"Kobo API v2 explorer: ",Object(r.b)("a",{parentName:"li",href:"https://kf.kobotoolbox.org/api/v2/assets/"},"https://kf.kobotoolbox.org/api/v2/assets/"))),Object(r.b)("h3",{id:"webhook-service-to-forward-submission-data-to-openfn-endpoint-or-another-app"},"Webhook service to forward submission data to OpenFn endpoint (or another app)"),Object(r.b)("p",null,"See the official docs here: ",Object(r.b)("a",{parentName:"p",href:"https://support.kobotoolbox.org/rest_services.html"},"https://support.kobotoolbox.org/rest_services.html")),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"To push data from Kobo, users must click the projects icon on their left-side\nnav bar. It's in the shape of a globe."),Object(r.b)("li",{parentName:"ol"},"Once selecting a project, the ",Object(r.b)("inlineCode",{parentName:"li"},"Project Settings")," link will appear at the top\nleft side of the screen. Click it to open the Project Settings page."),Object(r.b)("li",{parentName:"ol"},"In the bottom left pane of the project settings page, users must paste their\ninbox URL from OpenFn into the ",Object(r.b)("inlineCode",{parentName:"li"},"Rest Services")," ",Object(r.b)("inlineCode",{parentName:"li"},"Service URL")," input area and\nselect ",Object(r.b)("inlineCode",{parentName:"li"},"JSON Post")," as the ",Object(r.b)("inlineCode",{parentName:"li"},"Service Name"),"."),Object(r.b)("li",{parentName:"ol"},"It's helpful to add a wrapper to your form data if you will be publishing\nmultiple forms to OpenFn. You could use\n",Object(r.b)("inlineCode",{parentName:"li"},'{"form":"my_form", "body": %SUBMISSION%}'),"."),Object(r.b)("li",{parentName:"ol"},"Click ",Object(r.b)("inlineCode",{parentName:"li"},"Add Service")," to start forwarding new Kobo submissions to OpenFn.org.")),Object(r.b)("p",null,"To test to integration, add a submission manually using the\n",Object(r.b)("inlineCode",{parentName:"p"},"enter data in browser")," button. Head back to your history page at OpenFn to view\nthe newly submitted data and write a new ",Object(r.b)("inlineCode",{parentName:"p"},"filter")," and ",Object(r.b)("inlineCode",{parentName:"p"},"job")," to map your Kobo\ndata to any destination system on OpenFn."),Object(r.b)("p",null,"Here's a sample post from Kobo REST service. Note that questions inside groups\nare prefixed with ",Object(r.b)("inlineCode",{parentName:"p"},"groupname/")," rather than sitting inside a group object like\nODK:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-json"},'{\n  "meta/instanceID": "uuid:19d72997-8316-4e02-8016-4a8ddf6a2aa4",\n  "group1/name": "twenty",\n  "group1/age": "19",\n  "formhub/uuid": "6f5773a110b046cb97e3d71f6c04e7a6",\n  "first_q": "hello",\n  "final_q": "why not?",\n  "_xform_id_string": "groups",\n  "_uuid": "19d72997-8316-4e02-8016-4a8ddf6a2aa4",\n  "_userform_id": "taylordowns2000_groups",\n  "_tags": [],\n  "_submitted_by": null,\n  "_submission_time": "2016-04-22T06:38:20",\n  "_status": "submitted_via_web",\n  "_notes": [],\n  "_id": 889409,\n  "_geolocation": [null, null],\n  "_bamboo_dataset_id": "",\n  "_attachments": []\n}\n')),Object(r.b)("h2",{id:"openfn-adaptor"},"OpenFn Adaptor"),Object(r.b)("p",null,"Check out\n",Object(r.b)("a",{parentName:"p",href:"https://www.github.com/openfn/language-kobotoolbox"},"OpenFn/language-kobotoolbox"),' for some helper functions for extracting or "getting" data in bulk from Kobo Toolbox. '),Object(r.b)("h2",{id:"integration-examples"},"Integration Examples"),Object(r.b)("p",null,"See the ",Object(r.b)("inlineCode",{parentName:"p"},"ConSoSci")," Github repo for several example Kobo-to-database jobs: ",Object(r.b)("a",{parentName:"p",href:"https://github.com/OpenFn/consosci"},"https://github.com/OpenFn/consosci")))}l.isMDXComponent=!0},300:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return m}));var n=o(0),a=o.n(n);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var b=a.a.createContext({}),l=function(e){var t=a.a.useContext(b),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},c=function(e){var t=l(e.components);return a.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,b=p(e,["components","mdxType","originalType","parentName"]),c=l(o),d=n,m=c["".concat(i,".").concat(d)]||c[d]||u[d]||r;return o?a.a.createElement(m,s(s({ref:t},b),{},{components:o})):a.a.createElement(m,s({ref:t},b))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var b=2;b<r;b++)i[b]=o[b];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,o)}d.displayName="MDXCreateElement"}}]);