"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[2280],{15680:(e,t,o)=>{o.d(t,{xA:()=>u,yg:()=>c});var n=o(96540);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),l=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},u=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),g=l(o),y=r,c=g["".concat(s,".").concat(y)]||g[y]||m[y]||a;return o?n.createElement(c,i(i({ref:t},u),{},{components:o})):n.createElement(c,i({ref:t},u))}));function c(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=y;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[g]="string"==typeof e?e:r,i[1]=p;for(var l=2;l<a;l++)i[l]=o[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}y.displayName="MDXCreateElement"},83407:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>p,toc:()=>l});var n=o(58168),r=(o(96540),o(15680));const a={title:"Migration Steps",sidebar_label:"Migration Steps",slug:"/migration-steps"},i=void 0,p={unversionedId:"migration/migration-steps",id:"migration/migration-steps",title:"Migration Steps",description:"In this article, we walk you through the steps of migrating your project from",source:"@site/docs/migration/migration-steps.md",sourceDirName:"migration",slug:"/migration-steps",permalink:"/documentation/migration-steps",draft:!1,editUrl:"https://github.com/openfn/docs/edit/main/docs/migration/migration-steps.md",tags:[],version:"current",frontMatter:{title:"Migration Steps",sidebar_label:"Migration Steps",slug:"/migration-steps"},sidebar:"docs",previous:{title:"Converting Triggers",permalink:"/documentation/converting-triggers"}},s={},l=[{value:"Overview of Migration from v1 to v2",id:"overview-of-migration-from-v1-to-v2",level:2}],u={toc:l},g="wrapper";function m(e){let{components:t,...o}=e;return(0,r.yg)(g,(0,n.A)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"In this article, we walk you through the steps of migrating your project from\nOpenFn v1 to v2. Some of these steps may require you to make new design\ndecisions. For customized migration support, ask your questions on our\n",(0,r.yg)("a",{parentName:"p",href:"https://.community.openfn.org"},"Community")," or get in touch at\n",(0,r.yg)("a",{parentName:"p",href:"mailto://support@openfn.org"},"support@openfn.org"),"."),(0,r.yg)("h2",{id:"overview-of-migration-from-v1-to-v2"},"Overview of Migration from v1 to v2"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Register at ",(0,r.yg)("a",{parentName:"p",href:"https://app.openfn.org/"},"https://app.openfn.org/"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("a",{parentName:"p",href:"/documentation/manage-projects/platform-mgmt"},"Customize your project space")," with a\ncustom name and description.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Think about how long you want OpenFn to retain your input and output data and\nconfigure data storage accordingly.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"On v2, the jobs you use for automating tasks are organized in\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/tutorials/tutorial"},"Workflows"),". Build out a skeleton to get started:\nset up ",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/triggers"},"Triggers")," and the key\n",(0,r.yg)("a",{parentName:"p",href:"https://docs.openfn.org/documentation/build/steps"},"Steps")," to get started.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Remember how you can use \u201cOn success\u201d or \u201cOn failure\u201d of another job to\ntrigger a new one? V2 allows you to do just this, along with setting up\ncustom conditions, using\n",(0,r.yg)("a",{parentName:"p",href:"https://docs.openfn.org/documentation/build/paths"},"Paths"),". Follow\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/converting-triggers"},"our guide on converting your v1 triggers to v2"),"\nto learn more.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"You can now add job code. Check out our\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/workflows"},"detailed docs on building Workflows")," to learn more.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Create ","[Credentials(../build/credentials.md)]"," for your test and production\nsystems.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"For setup and testing, use your test system credentials in your Workflows.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Copy your job code from your GitHub repository or directly from your v1\nproject and paste it into the jobs. Get familiar with the revamped Job\nInspector for code editing ",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/steps/step-editor"},"here"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Add custom input and ",(0,r.yg)("a",{parentName:"p",href:"/documentation/build/steps/step-editor"},"run your workflow")," to\nstart testing.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Check out the ",(0,r.yg)("a",{parentName:"p",href:"/documentation/monitor-history/activity-history"},"History")," page to\nmonitor your Workflow runs.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Test and iterate.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Project version control/GitHub sync has also gone through some changes. To\nconnect your project to GitHub, follow\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/link-to-github"},"this guide"),"."),(0,r.yg)("p",{parentName:"li"},"a. Automated migration: It is possible to migrate an entire project from v1\nto v2 in an automated way. You can do this by going to Project Settings on\nv1, clicking ",(0,r.yg)("inlineCode",{parentName:"p"},"Export Config")," and choosing ",(0,r.yg)("inlineCode",{parentName:"p"},"Export for v2 (migrate)"),". You\nwill receive a project.yaml file containing your entire project\nconfiguration with jobs and triggers. To migrate, commit this file to the\nGithub repo you want to link to your v2 project, and set up the connection\nas described in the above guide. Your project configuration will be deployed\nto your v2 project."),(0,r.yg)("admonition",{parentName:"li",type:"warning"},(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("em",{parentName:"p"},"BUG"),": The v1 Export Config feature doesn\u2019t work at the moment. For now, you\ncan build your Workflows manually on v2 as described in steps 4-12 above.")),(0,r.yg)("p",{parentName:"li"},"b. NOTE: Once the Github sync is live, consider that all changes will be\nsynced with the project.yaml file. Therefore, any job changes made via\nGithub, must be applied directly to this file. (Unlike the v1 Github sync,\nedits to individual job files will not sync to the OpenFn v2 app. Rather,\nall changes must be made in the project.yaml file or within the linked web\napp).")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"You may have other design decisions to make, too. For example, if your\noriginal v1 workflow uses Inbox in between steps, you might need to adjust\nconfiguration and design so that your jobs are linked together in one\nWorkflow (1 Step for each Job you had in the v1 configuration).")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"If you\u2019re using a Webhook Trigger, you can add an extra layer of security by\nrequiring authentication. Note that if you do this, you will need to update\nthe webhook configuration in the external app that points to OpenFn.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Fine-tune your security configuration by following our Project Security and\nGo-Live Checklist.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Test some more.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"When all runs smoothly, switch to production systems from your test systems:\nupdate the credentials in your Workflows to point to production systems.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"If webhooks are used, update endpoints in your production systems to point\nto your v2 OpenFn Workflows.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"You can monitor usage on your\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/monitoring-workflows"},"Workflows Dashboard"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"You\u2019re done with your new setup! You can now turn off your jobs on v1 and\nremove the GitHub connection there.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"If you want to export your v1 data for reference or archival, get in touch\nwith us at ",(0,r.yg)("a",{parentName:"p",href:"mailto://support@openfn.org"},"support@openfn.org"),".")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Finally, when ready, request to delete your project on v1. (The v1 platform\nwill be sunsetted in 2025, and our team will provide regular updates until\nthen.)"))))}m.isMDXComponent=!0}}]);