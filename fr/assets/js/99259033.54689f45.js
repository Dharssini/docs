"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[2537],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,f=p["".concat(l,".").concat(m)]||p[m]||d[m]||r;return n?a.createElement(f,s(s({ref:t},c),{},{components:n})):a.createElement(f,s({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var u=2;u<r;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},60173:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return p}});var a=n(83117),o=n(80102),r=(n(67294),n(3905)),s=["components"],i={title:"Revue de projet"},l=void 0,u={unversionedId:"build/example-build",id:"build/example-build",isDocsHomePage:!1,title:"Revue de projet",description:"Sur cette page, nous allons d\xe9montrer comment construire une int\xe9gration r\xe9elle en utilisant la plateforme OpenFn.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/build/example-build.md",sourceDirName:"build",slug:"/build/example-build",permalink:"/fr/documentation/build/example-build",editUrl:"https://github.com/openfn/docs/edit/main/docs/build/example-build.md",tags:[],version:"current",frontMatter:{title:"Revue de projet"},sidebar:"docs",previous:{title:"Platform Quick-start",permalink:"/fr/documentation/getting-started/quick-start"},next:{title:"La Bo\xeete \xe0 outils d'int\xe9gration",permalink:"/fr/documentation/getting-started/integration-toolkit"}},c=[{value:"\xc9tape 1 - Connectez-vous au tableau de bord de votre projet",id:"\xe9tape-1---connectez-vous-au-tableau-de-bord-de-votre-projet",children:[],level:3},{value:"\xc9tape 2 - Ajoutez un nouveau projet",id:"\xe9tape-2---ajoutez-un-nouveau-projet",children:[],level:3},{value:"\xc9tape 3 - Entrez votre nouvel espace de projet",id:"\xe9tape-3---entrez-votre-nouvel-espace-de-projet",children:[],level:3},{value:"\xc9tape 4 - Connectez vos applications sources",id:"\xe9tape-4---connectez-vos-applications-sources",children:[],level:3},{value:"\xc9tape 5 - Connectez vos applications de destination",id:"\xe9tape-5---connectez-vos-applications-de-destination",children:[{value:"Ajoutez les credentials de Salesforce",id:"ajoutez-les-credentials-de-salesforce",children:[],level:4},{value:"Ajoutez les credentials dhis2",id:"ajoutez-les-credentials-dhis2",children:[],level:4},{value:"Ajoutez les credentials de Google Sheets",id:"ajoutez-les-credentials-de-google-sheets",children:[],level:4}],level:3},{value:"\xc9tape 6 - Cr\xe9ez vos jobs triggers",id:"\xe9tape-6---cr\xe9ez-vos-jobs-triggers",children:[],level:3},{value:"\xc9tape 7 - Cr\xe9ez vos jobs",id:"\xe9tape-7---cr\xe9ez-vos-jobs",children:[{value:"Salesforce",id:"salesforce",children:[],level:4},{value:"dhis2",id:"dhis2",children:[],level:4},{value:"Google Sheets",id:"google-sheets",children:[],level:4}],level:3},{value:"\xc9tape 8 - Activez \xab\xa0Auto-Process\xa0\xbb (Processus automatique)",id:"\xe9tape-8---activez-auto-process-processus-automatique",children:[],level:3},{value:"\xc9tape 9 - Tester votre automatisation",id:"\xe9tape-9---tester-votre-automatisation",children:[],level:3}],d={toc:c};function p(e){var t=e.components,i=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Sur cette page, nous allons d\xe9montrer comment construire une int\xe9gration r\xe9elle en utilisant la plateforme OpenFn."),(0,r.kt)("p",null,"Dans cet exemple de projet d'int\xe9gration, la soumission d'un formulaire KoboToolBox d\xe9clenchera des jobs OpenFn qui effectuent les op\xe9rations suivantes en temps r\xe9el\xa0:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Cr\xe9er un nouveau contact dans ",(0,r.kt)("a",{parentName:"li",href:"https://www.salesforce.com"},"Salesforce")),(0,r.kt)("li",{parentName:"ol"},"Ajouter une nouvelle instance d'entit\xe9 track\xe9e \xe0 ",(0,r.kt)("a",{parentName:"li",href:"https://www.dhis2.org"},"dhis2")),(0,r.kt)("li",{parentName:"ol"},"Une nouvelle ligne cr\xe9\xe9e dans ",(0,r.kt)("a",{parentName:"li",href:"https://sheets.google.com"},"Google Sheets"))),(0,r.kt)("h3",{id:"\xe9tape-1---connectez-vous-au-tableau-de-bord-de-votre-projet"},"\xc9tape 1 - Connectez-vous au tableau de bord de votre projet"),(0,r.kt)("p",null,"Cr\xe9ez un compte sur OpenFn et connectez-vous au tableau de bord de votre projet."),(0,r.kt)("p",null,"Si c'est la premi\xe8re fois que vous vous connectez \xe0 OpenFn, vous remarquerez qu'un exemple de projet a d\xe9j\xe0 \xe9t\xe9 cr\xe9\xe9 pour vous."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Tableau de bord du projet \xe0 la 1\xe8re connexion",src:n(84485).Z})),(0,r.kt)("h3",{id:"\xe9tape-2---ajoutez-un-nouveau-projet"},"\xc9tape 2 - Ajoutez un nouveau projet"),(0,r.kt)("p",null,"Ajoutez un nouveau projet qui contiendra vos automatisations ou flux de travail souhait\xe9."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Ajoutez un nouveau projet",src:n(79622).Z})),(0,r.kt)("h3",{id:"\xe9tape-3---entrez-votre-nouvel-espace-de-projet"},"\xc9tape 3 - Entrez votre nouvel espace de projet"),(0,r.kt)("p",null,"Pour commencer votre nouveau projet, cliquez sur ",(0,r.kt)("inlineCode",{parentName:"p"},"view"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Cliquez sur view",src:n(86898).Z})),(0,r.kt)("h3",{id:"\xe9tape-4---connectez-vos-applications-sources"},"\xc9tape 4 - Connectez vos applications sources"),(0,r.kt)("p",null,"Connectez KoboToolbox \xe0 votre inbox OpenFn, de sorte que chaque fois qu'un formulaire d'enqu\xeate est soumis, OpenFn en re\xe7oit une copie."),(0,r.kt)("p",null,"Copiez l'url de votre inbox OpenFn puis enregistrez un nouveau service REST dans KoboToolbox."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"url de l&#39;inbox",src:n(2452).Z})),(0,r.kt)("p",null,"Pour notre exemple, les informations sur le service REST que nous avons saisies ressemblent \xe0 ceci\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"rest service de kobo",src:n(93061).Z})),(0,r.kt)("h3",{id:"\xe9tape-5---connectez-vos-applications-de-destination"},"\xc9tape 5 - Connectez vos applications de destination"),(0,r.kt)("p",null,"Ajoutez vos credentials pour les services de destination vers lesquels vous souhaitez que les donn\xe9es de la KoboToolbox soient envoy\xe9es. Naviguez jusqu'\xe0 la section ",(0,r.kt)("inlineCode",{parentName:"p"},"credentials")," dans votre espace projet et cliquez sur le ",(0,r.kt)("inlineCode",{parentName:"p"},"+")," en bas \xe0 droite de l'\xe9cran."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"ajoutez les credentials",src:n(54078).Z})),(0,r.kt)("h4",{id:"ajoutez-les-credentials-de-salesforce"},"Ajoutez les credentials de Salesforce"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Credentials Salesforce",src:n(18676).Z})),(0,r.kt)("h4",{id:"ajoutez-les-credentials-dhis2"},"Ajoutez les credentials dhis2"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Credentials dhis2",src:n(98944).Z})),(0,r.kt)("h4",{id:"ajoutez-les-credentials-de-google-sheets"},"Ajoutez les credentials de Google Sheets"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"credentials google sheets",src:n(6203).Z})),(0,r.kt)("h3",{id:"\xe9tape-6---cr\xe9ez-vos-jobs-triggers"},"\xc9tape 6 - Cr\xe9ez vos jobs triggers"),(0,r.kt)("p",null,"Cr\xe9ez votre trigger pour l'automatisation."),(0,r.kt)("p",null,"Naviguez jusqu'\xe0 la section ",(0,r.kt)("inlineCode",{parentName:"p"},"trigger")," de votre projet."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"naviguez vers trigger",src:n(46102).Z})),(0,r.kt)("p",null,"Entrez la configuration d\xe9sir\xe9e de votre trigger. :::important Notez que votre espace projet peut avoir plusieurs triggers diff\xe9rents qui d\xe9terminent quand ou si vos jobs sont effectu\xe9s. . ::: Dans cet exemple, nous aimerions que nos jobs se d\xe9clenchent chaque fois qu'un nouveau formulaire Kobo est soumis."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"exemple de trigger",src:n(95356).Z})),(0,r.kt)("h3",{id:"\xe9tape-7---cr\xe9ez-vos-jobs"},"\xc9tape 7 - Cr\xe9ez vos jobs"),(0,r.kt)("p",null,"Cr\xe9ez les jobs de votre projet."),(0,r.kt)("h4",{id:"salesforce"},"Salesforce"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"job salesforce",src:n(87426).Z})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"create('Contact', {\n  FirstName: dataValue('body.Patient_name'),\n  LastName: dataValue('body.Last_Name_of_Patient'),\n  Age__c: dataValue('body.Age'),\n  Sex__c: dataValue('body.Sex'),\n  Case_ID__c: dataValue('body.National_ID'),\n  Comments__c: dataValue('body.Comments'),\n});\n")),(0,r.kt)("h4",{id:"dhis2"},"dhis2"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"job dhis2",src:n(15221).Z})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"createTEI({\n  orgUnit: 'GD7TowwI46c',\n  trackedEntityType: 'MCPQUTHX1Ze',\n  attributes: [\n    {\n      attribute: 'he05i8FUwu3', // case id\n      value: dataValue('body._id'),\n    },\n    {\n      attribute: 'sB1IHYu2xQT', // first name\n      value: dataValue('body.Patient_name'),\n    },\n    {\n      attribute: 'ENRjVGxVL6l', // last name\n      value: dataValue('body.Last_Name_of_Patient'),\n    },\n    {\n      attribute: 'Rv8WM2mTuS5', // age\n      value: dataValue('body.Age'),\n    },\n  ],\n  enrollments: [\n    {\n      orgUnit: 'GD7TowwI46c',\n      program: 'DM9n1bUw8W8',\n      programState: 'sAV9jAajr8x',\n      enrollmentDate: dataValue('body.Date'),\n      incidentDate: dataValue(\n        'body.Covid_19_suspected_criteria/Speciman_Collection_date'\n      ),\n    },\n  ],\n});\n")),(0,r.kt)("h4",{id:"google-sheets"},"Google Sheets"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"job google sheets",src:n(70640).Z})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"appendValues({\n  spreadsheetId: '1EFkY4zD4qqxnJdH-QaeasKd1zXC-1sNKpEg08W-3sT0',\n  range: 'COVID-19 Cases!A2',\n  values: state => {\n    const kobo = state.data.body;\n\n    console.log('Submission data: ' + JSON.stringify(kobo, null, 2));\n\n    return [\n      [\n        kobo['National_ID'],\n        kobo['Patient_name'],\n        kobo['Last_Name_of_Patient'],\n        kobo['Sex'],\n        kobo['Age'],\n        kobo['Comments'],\n        kobo['Date'],\n      ],\n    ];\n  },\n});\n")),(0,r.kt)("h3",{id:"\xe9tape-8---activez-auto-process-processus-automatique"},"\xc9tape 8 - Activez \xab\xa0Auto-Process\xa0\xbb (Processus automatique)"),(0,r.kt)("p",null,"Activez le processus automatique pour tous les jobs de cette automatisation, de sorte qu'ils s'ex\xe9cutent automatiquement chaque fois qu'un nouveau formulaire kobo est soumis. ",(0,r.kt)("img",{alt:"job dhis2",src:n(41727).Z})),(0,r.kt)("h3",{id:"\xe9tape-9---tester-votre-automatisation"},"\xc9tape 9 - Tester votre automatisation"),(0,r.kt)("p",null,"Il est maintenant temps de tester votre int\xe9gration. (Travail en cours...)"))}p.isMDXComponent=!0},84485:function(e,t,n){t.Z=n.p+"assets/images/1.1_new_account_dashboard-9b48511aae2b8b63fb7d5d784021ac43.png"},79622:function(e,t,n){t.Z=n.p+"assets/images/2.1_add_new_project-340bc81d856ff7d3f1d8cf39776267c9.gif"},86898:function(e,t,n){t.Z=n.p+"assets/images/3.1_click_view-a3c861393091d69719fdee5794cf47ce.gif"},2452:function(e,t,n){t.Z=n.p+"assets/images/4.1_inbox_url_copy_paste-afc34cedea66ca4327f097260a6689b0.gif"},93061:function(e,t,n){t.Z=n.p+"assets/images/4.2_rest_service_kobo-c5c76e674503c6fed8af1281790bae7b.png"},54078:function(e,t,n){t.Z=n.p+"assets/images/5.1_add_credential-576a996e08d909f0a33634af3d16a03d.gif"},18676:function(e,t,n){t.Z=n.p+"assets/images/5.2_salesforce_credentials-e91c6c22d8d70838b540f9645c5de145.png"},98944:function(e,t,n){t.Z=n.p+"assets/images/5.3_dhis2_credentials-4ad6f7b2e1718776c79a058edab0f994.png"},6203:function(e,t,n){t.Z=n.p+"assets/images/5.4_google_sheets_credential-aaf879654ac328f66b69cc7e824938eb.gif"},46102:function(e,t,n){t.Z=n.p+"assets/images/6.1_navigate_to_trigger-e6ad1cc76c67af439efdfb5743f970de.gif"},95356:function(e,t,n){t.Z=n.p+"assets/images/6.2_trigger_example-7959e727a89a5a466623a12c4891fef0.png"},87426:function(e,t,n){t.Z=n.p+"assets/images/7.1_salesforce_job-2fba37e30244f4338f6c9637cf972a4e.png"},15221:function(e,t,n){t.Z=n.p+"assets/images/7.2_dhis2_job-530a5cdf8af0b72da4834a76f4972af8.png"},70640:function(e,t,n){t.Z=n.p+"assets/images/7.3_google_sheet_job-93b4654dc2b916890ef7642a9720d00a.png"},41727:function(e,t,n){t.Z=n.p+"assets/images/8.1_autoprocess_on-e51c96f48845ca3cc6e172ba55f49f9c.gif"}}]);